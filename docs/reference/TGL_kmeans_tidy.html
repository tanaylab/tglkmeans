<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>TGL kmeans with 'tidy' output — TGL_kmeans_tidy • tglkmeans</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="TGL kmeans with 'tidy' output — TGL_kmeans_tidy" />

<meta property="og:description" content="TGL kmeans with 'tidy' output" />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">tglkmeans</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-th-list"></span>
     
    Reference
  </a>
</li>
<li>
  <a href="../articles/usage.html">
    <span class="fa fa-road"></span>
     
    Usage
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/usage.html">basic usage</a>
    </li>
  </ul>
</li>
<li>
  <a></a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>TGL kmeans with 'tidy' output</h1>
    
    <div class="hidden name"><code>TGL_kmeans_tidy.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>TGL kmeans with 'tidy' output</p>
    
    </div>

    <pre class="usage"><span class='fu'>TGL_kmeans_tidy</span>(<span class='no'>df</span>, <span class='no'>k</span>, <span class='kw'>metric</span> <span class='kw'>=</span> <span class='st'>"euclid"</span>, <span class='kw'>max_iter</span> <span class='kw'>=</span> <span class='fl'>40</span>,
  <span class='kw'>min_delta</span> <span class='kw'>=</span> <span class='fl'>1e-04</span>, <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>keep_log</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>id_column</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>reorder_func</span> <span class='kw'>=</span> <span class='st'>"hclust"</span>, <span class='kw'>add_to_data</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>hclust_intra_clusters</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>seed</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>bootstrap</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>df</th>
      <td><p>data frame. Each row is a single observation and each column is a dimension.
the first column can contain id for each observation (if id_column is TRUE).</p></td>
    </tr>
    <tr>
      <th>k</th>
      <td><p>number of clusters</p></td>
    </tr>
    <tr>
      <th>metric</th>
      <td><p>distance metric for kmeans++ seeding. can be 'euclid', 'pearson' or 'spearman'</p></td>
    </tr>
    <tr>
      <th>max_iter</th>
      <td><p>maximal number of iterations</p></td>
    </tr>
    <tr>
      <th>min_delta</th>
      <td><p>minimal change in assignments (fraction out of all observations) to continue iterating</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>display algorithm messages</p></td>
    </tr>
    <tr>
      <th>keep_log</th>
      <td><p>keep algorithm messages in 'log' field</p></td>
    </tr>
    <tr>
      <th>id_column</th>
      <td><p><code>df</code>'s first column contains the observation id</p></td>
    </tr>
    <tr>
      <th>reorder_func</th>
      <td><p>function to reorder the clusters. operates on each center and orders by the result. e.g. <code>reorder_func = mean</code> would calculate the mean of each center and then would reorder the clusters accordingly. If <code>reorder_func = hclust</code> the centers would be ordered by hclust of the euclidian distance of the corelation matrix, i.e. <code><a href='https://www.rdocumentation.org/packages/stats/topics/hclust'>hclust(dist(cor(t(centers))))</a></code>
if NULL, no reordering would be done.</p></td>
    </tr>
    <tr>
      <th>add_to_data</th>
      <td><p>return also the original data frame with an extra 'clust' column with the cluster ids ('id' is the first column)</p></td>
    </tr>
    <tr>
      <th>hclust_intra_clusters</th>
      <td><p>run hierarchical clustering within each cluster and return an ordering of the observations.</p></td>
    </tr>
    <tr>
      <th>seed</th>
      <td><p>seed for the c++ random number generator</p></td>
    </tr>
    <tr>
      <th>bootstrap</th>
      <td><p>bootstrap to estimate robustness of the clusters</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Arguments passed on to <code>bootstrap_kmeans</code></p><dl class='dl-horizontal'>
  <dt>df</dt><dd><p>data frame. Each row is a single observation and each column is a dimension.
the first column can contain id for each observation (if id_column is TRUE).</p></dd>
  <dt>k</dt><dd><p>number of clusters</p></dd>
  <dt>N_boot</dt><dd><p>number of bootstrapping iterations</p></dd>
  <dt>boot_ratio</dt><dd><p>percent of observations to sample on each iteration</p></dd>
  <dt>parallel</dt><dd><p>run parallely (using doMC backend)</p></dd>
  <dt>id_column</dt><dd><p><code>df</code>'s first column contains the observation id</p></dd>
  <dt>seed</dt><dd><p>seed for the c++ random number generator</p></dd>
</dl></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>list with the following components:</p><dl class='dl-horizontal'>
  <dt>cluster:</dt><dd><p>tibble with `id` column with the observation id (`1:n` if no id column was supplied), and `clust` column with the observation assigned cluster.</p></dd>
  <dt>centers:</dt><dd><p>tibble with `clust` column and the cluster centers.</p></dd>
  <dt>size:</dt><dd><p>tibble with `clust` column and `n` column with the number of points in each cluster.</p></dd>
  <dt>data:</dt><dd><p>tibble with `clust` column the original data frame.</p></dd>
  <dt>log:</dt><dd><p>messages from the algorithm run (only if <code>id_column = TRUE</code>).</p></dd>
  <dt>bootstrap:</dt><dd><p>tibble with 'clust' column and 'robust' column with the number of times the members of the clusters were clustered together divided by the total times they were sampled together. (only if bootstrap = TRUE)</p></dd>
  <dt>order:</dt><dd><p>tibble with 'id' column, 'clust' column, 'order' column with a new ordering if the observations and 'intra_clust_order' column with the order within each cluster. (only if hclust_intra_clusters = TRUE)</p></dd>
</dl>

    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='TGL_kmeans.html'>TGL_kmeans</a></code></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/library'>library</a></span>(<span class='no'>dplyr</span>)
<span class='co'># create 5 clusters normally distributed around 1:5</span>
<span class='no'>d</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='simulate_data.html'>simulate_data</a></span>(<span class='kw'>n</span> <span class='kw'>=</span> <span class='fl'>100</span>, <span class='kw'>sd</span> <span class='kw'>=</span> <span class='fl'>0.3</span>, <span class='kw'>nclust</span> <span class='kw'>=</span> <span class='fl'>5</span>, <span class='kw'>dims</span> <span class='kw'>=</span> <span class='fl'>2</span>, <span class='kw'>add_true_clust</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)
<span class='fu'><a href='https://www.rdocumentation.org/packages/utils/topics/head'>head</a></span>(<span class='no'>d</span>)</div><div class='output co'>#&gt; <span style='color: #555555;'># A tibble: 6 x 3</span><span>
#&gt;      id      V1    V2
#&gt;   </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span>   </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #555555;'>1</span><span>     1  0.949  0.764
#&gt; </span><span style='color: #555555;'>2</span><span>     2  0.807  0.841
#&gt; </span><span style='color: #555555;'>3</span><span>     3  0.776  0.666
#&gt; </span><span style='color: #555555;'>4</span><span>     4  0.731  0.822
#&gt; </span><span style='color: #555555;'>5</span><span>     5  1.59   0.832
#&gt; </span><span style='color: #555555;'>6</span><span>     6 -</span><span style='color: #BB0000;'>0.053</span><span style='color: #BB0000;text-decoration: underline;'>5</span><span> 1.75 </div><div class='input'>
<span class='co'># cluster</span>
<span class='no'>km</span> <span class='kw'>&lt;-</span> <span class='fu'>TGL_kmeans_tidy</span>(<span class='no'>d</span>, <span class='kw'>k</span> <span class='kw'>=</span> <span class='fl'>5</span>, <span class='st'>"euclid"</span>, <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</div><div class='output co'>#&gt; <span class='message'>id column: id</span></div><div class='output co'>#&gt; KMEans: will generate seeds
#&gt; KMeans into generate seeds
#&gt; at seed 0
#&gt; add new core from 407 to 0
#&gt; at seed 1
#&gt; done update min distance
#&gt; seed range 350 450
#&gt; picked up 0 dist was 2.94227
#&gt; add new core from 0 to 1
#&gt; at seed 2
#&gt; done update min distance
#&gt; seed range 300 400
#&gt; picked up 266 dist was 1.32034
#&gt; add new core from 266 to 2
#&gt; at seed 3
#&gt; done update min distance
#&gt; seed range 250 350
#&gt; picked up 357 dist was 0.648405
#&gt; add new core from 357 to 3
#&gt; at seed 4
#&gt; done update min distance
#&gt; seed range 200 300
#&gt; picked up 156 dist was 0.716407
#&gt; add new core from 156 to 4
#&gt; KMEans: reassign after init
#&gt; KMEans: iter 0
#&gt; KMEans: iter 1 changed 4
#&gt; KMEans: iter 1
#&gt; KMEans: iter 2 changed 1
#&gt; KMEans: iter 2
#&gt; KMEans: iter 3 changed 0</div><div class='input'><span class='no'>km</span></div><div class='output co'>#&gt; $centers
#&gt; </span><span style='color: #555555;'># A tibble: 5 x 3</span><span>
#&gt;   clust    V1    V2
#&gt;   </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #555555;'>1</span><span>     1 2.97  2.98 
#&gt; </span><span style='color: #555555;'>2</span><span>     2 4.98  4.98 
#&gt; </span><span style='color: #555555;'>3</span><span>     3 0.975 0.998
#&gt; </span><span style='color: #555555;'>4</span><span>     4 4.02  4.01 
#&gt; </span><span style='color: #555555;'>5</span><span>     5 2.05  1.98 
#&gt; 
#&gt; $cluster
#&gt; </span><span style='color: #555555;'># A tibble: 500 x 2</span><span>
#&gt;    id    clust
#&gt;    </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span>
#&gt; </span><span style='color: #555555;'> 1</span><span> 1         3
#&gt; </span><span style='color: #555555;'> 2</span><span> 2         3
#&gt; </span><span style='color: #555555;'> 3</span><span> 3         3
#&gt; </span><span style='color: #555555;'> 4</span><span> 4         3
#&gt; </span><span style='color: #555555;'> 5</span><span> 5         3
#&gt; </span><span style='color: #555555;'> 6</span><span> 6         3
#&gt; </span><span style='color: #555555;'> 7</span><span> 7         3
#&gt; </span><span style='color: #555555;'> 8</span><span> 8         3
#&gt; </span><span style='color: #555555;'> 9</span><span> 9         3
#&gt; </span><span style='color: #555555;'>10</span><span> 10        3
#&gt; </span><span style='color: #555555;'># … with 490 more rows</span><span>
#&gt; 
#&gt; $size
#&gt; </span><span style='color: #555555;'># A tibble: 5 x 2</span><span>
#&gt;   clust     n
#&gt;   </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span>
#&gt; </span><span style='color: #555555;'>1</span><span>     1    99
#&gt; </span><span style='color: #555555;'>2</span><span>     2   102
#&gt; </span><span style='color: #555555;'>3</span><span>     3   101
#&gt; </span><span style='color: #555555;'>4</span><span>     4    99
#&gt; </span><span style='color: #555555;'>5</span><span>     5    99
#&gt; </div><div class='input'>
<span class='co'># bootstrapping</span>
<span class='no'>km</span> <span class='kw'>&lt;-</span> <span class='fu'>TGL_kmeans_tidy</span>(<span class='no'>d</span>, <span class='kw'>k</span> <span class='kw'>=</span> <span class='fl'>5</span>, <span class='st'>"euclid"</span>, <span class='kw'>N_boot</span> <span class='kw'>=</span> <span class='fl'>100</span>, <span class='kw'>bootstrap</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</div><div class='output co'>#&gt; <span class='message'>bootstrapping</span></div><div class='input'><span class='no'>km</span>$<span class='no'>bootstrap</span></div><div class='output co'>#&gt; </span><span style='color: #555555;'># A tibble: 5 x 2</span><span>
#&gt; </span><span style='color: #555555;'># Groups:   clust [5]</span><span>
#&gt;   clust robust
#&gt;   </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span>  </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #555555;'>1</span><span>     1  0.979
#&gt; </span><span style='color: #555555;'>2</span><span>     2  0.976
#&gt; </span><span style='color: #555555;'>3</span><span>     3  0.985
#&gt; </span><span style='color: #555555;'>4</span><span>     4  0.985
#&gt; </span><span style='color: #555555;'>5</span><span>     5  0.986</div></span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Aviezer Lifshitz, Amos Tanay.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

